(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{26:function(t,e,n){"use strict";function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",function(){return a})},27:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return c});var a=n(9),o="https://mysterious-inlet-29046.herokuapp.com/api/";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fetch(Object(a.c)("".concat(o).concat(t),n),{method:"".concat(e),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(t){return t.json()}).then(function(t){if(200===t.code)return t.data}).catch(function(t){return console.log(t)})}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST",n=arguments.length>2?arguments[2]:void 0;return fetch("".concat(o).concat(t),{method:"".concat(e),body:JSON.stringify(n),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(t){return t.json()}).then(function(t){return 200===t.code}).catch(function(t){return console.log(t)})}function c(t,e,n){return fetch("".concat(o).concat(t,"/").concat(n),{method:"PUT",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(t){return t.json()}).then(function(t){return 200===t.code}).catch(function(t){return console.log(t)})}},28:function(t,e,n){"use strict";var a=n(4),o=n(5),r=n(8),i=n(6),c=n(7),s=n(10),l=n(0),p=n(1),u=n(9),d=n(2);function b(){var t=Object(d.a)(["\n  padding: 2px;\n  background-color: ",";\n  border: 2px solid #fff;\n  color: #fff;\n  font-weight: 800;\n"]);return b=function(){return t},t}var h=function(t){return Object(l.a)(b(),t)},f=function(t){function e(){return Object(a.a)(this,e),Object(r.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return Object(l.b)("button",{className:this.props.className,css:h(this.props.color),onClick:this.props.clickHandler},this.props.text)}}]),e}(p.Component);function m(){var t=Object(d.a)(["\n  padding: 2px;\n"]);return m=function(){return t},t}var g=Object(l.a)(m()),j=function(t){function e(){return Object(a.a)(this,e),Object(r.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return Object(l.b)("input",{className:this.props.classname,placeholder:this.props.placeholder,css:g,onKeyUp:this.props.keyUpHandler()})}}]),e}(p.Component),v=n(12);function O(){var t=Object(d.a)(["\n    width: 25%;\n    float: right;\n  "]);return O=function(){return t},t}function y(){var t=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: #212121;\n  color: #fff;\n  width: 100%;\n  margin-top: 20px;\n  cursor: pointer;\n  border: 2px solid rgba(0, 128, 0, 0.9);\n\n  .table-page {\n    padding: 5px;\n    border-right: 1px solid white;\n    flex-grow: 1;\n    margin-left: 13px;\n\n    &:nth-of-type(7) {\n      border-right: 0px;\n    }\n  }\n\n  ","\n"]);return y=function(){return t},t}var x=Object(l.a)(y(),v.a.tabletUp(Object(l.a)(O()))),w=function(t){function e(){return Object(a.a)(this,e),Object(r.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return Object(l.b)("div",{className:"table-pagination",css:x},Object(l.b)("div",{className:"table-page"},"Prev"),Object(l.b)("div",{className:"table-page"},"1"),Object(l.b)("div",{className:"table-page"},"2"),Object(l.b)("div",{className:"table-page"},"3"),Object(l.b)("div",{className:"table-page"},"4"),Object(l.b)("div",{className:"table-page"},"5"),Object(l.b)("div",{className:"table-page"},"Next"))}}]),e}(p.Component);function k(){var t=Object(d.a)(["\n  position: fixed;\n  background: rgba(0, 0, 0, 0.6);\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  padding: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  display: none;\n  background-color: rgb(0, 0, 0);\n  background-color: rgba(0, 0, 0, 0.4);\n\n  .modal-content {\n    position: relative;\n    background-color: #fefefe;\n    margin: auto;\n    padding: 0;\n    border: 1px solid #888;\n    width: 45%;\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n    -webkit-animation-name: animatetop;\n    -webkit-animation-duration: 0.4s;\n    animation-name: animatetop;\n    animation-duration: 0.4s;\n  }\n\n  @-webkit-keyframes animatetop {\n    from {\n      top: -300px;\n      opacity: 0;\n    }\n    to {\n      top: 0;\n      opacity: 1;\n    }\n  }\n\n  @keyframes animatetop {\n    from {\n      top: -300px;\n      opacity: 0;\n    }\n    to {\n      top: 0;\n      opacity: 1;\n    }\n  }\n\n  .close {\n    color: white;\n    float: right;\n    font-size: 28px;\n    font-weight: bold;\n  }\n\n  .close:hover,\n  .close:focus {\n    color: #000;\n    text-decoration: none;\n    cursor: pointer;\n  }\n\n  .modal-header {\n    padding: 20px 16px;\n    background-color: #5cb85c;\n    color: white;\n\n    h2 {\n      font-weight: 800;\n      text-transform: capitalize;\n    }\n  }\n\n  .modal-body {\n    padding: 20px 16px;\n  }\n\n  .modal-footer {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n    padding: 10px 16px;\n    background-color: #5cb85c;\n    color: white;\n  }\n"]);return k=function(){return t},t}var N=Object(l.a)(k());function C(){var t=Object(d.a)(["\n  .form-group {\n    display: flex;\n    flex-direction: row;\n  }\n\n  .form-group label {\n    flex: none;\n    display: block;\n    width: 125px;\n    font-weight: bold;\n    font-size: 1em;\n  }\n  .form-group label.right-inline {\n    text-align: right;\n    padding-right: 8px;\n    padding-left: 10px;\n    width: auto;\n  }\n\n  .form-group .input-control {\n    display: block;\n    margin-bottom: 10px;\n    margin-right: 8px;\n    padding: 4px;\n    margin-top: -4px;\n  }\n\n  .form-group .select-control {\n    display: block;\n    margin-bottom: 10px;\n    margin-right: 8px;\n    margin-left: 0px;\n    padding: 4px;\n    margin-top: -4px;\n    width: 23.5%;\n  }\n\n  .right-inline-select {\n    margin-left: 40px !important;\n  }\n\n  button {\n    padding: 5px 15px;\n    margin: 5px;\n    min-width: 100px;\n  }\n\n  @media (max-width: 768px) {\n    .form-group {\n      flex-direction: column;\n    }\n    .form-group .input-control {\n      margin-top: 2px;\n    }\n    .form-group label.right-inline {\n      text-align: left;\n      padding-right: 0;\n      padding-left: 0;\n    }\n  }\n"]);return C=function(){return t},t}var D=Object(l.a)(C()),S=function(t){function e(t){var n;return Object(a.a)(this,e),n=Object(r.a)(this,Object(i.a)(e).call(this,t)),Object(u.b)(e.prototype,Object(s.a)(Object(s.a)(n))),n}return Object(c.a)(e,t),Object(o.a)(e,[{key:"componentDidUpdate",value:function(t){t.created!==this.props.created&&!0===this.props.created&&this.props.closeModal()}},{key:"render",value:function(){var t=this;return Object(l.b)("div",{className:"modal",role:"dialog","aria-hidden":"true",css:N},Object(l.b)("div",{className:"modal-content"},Object(l.b)("div",{className:"modal-header"},Object(l.b)("span",{className:"close",onClick:function(){return t.props.closeModal()}},"\xd7"),Object(l.b)("h2",null,Object(u.e)(this.props.dataToUpdate)?"Create":"Update"," ",this.props.screen)),Object(l.b)("div",{className:"modal-body",css:D},this.props.formData),Object(l.b)("div",{className:"modal-footer"},Object(l.b)(f,{className:"modal-submit",color:"#212121",text:"Submit",clickHandler:this.props.submitForm}))))}}]),e}(p.Component),E=n(11);function U(){var t=Object(d.a)(["\n       flex-direction: row;\n\n       .table-search {\n         padding-bottom: 0px;\n       }\n\n       .table-name {\n         margin-right: 145px;\n         padding-bottom: 0px;\n       }\n     "]);return U=function(){return t},t}function T(){var t=Object(d.a)(["\n      flex-flow: row;\n     "]);return T=function(){return t},t}function A(){var t=Object(d.a)(["\n  {\n   display: block;\n   margin: 2em auto;\n   width: 94%;\n\n   div {\n     box-sizing: border-box;\n   }\n\n   .flex-table {\n     display: flex;\n     flex-flow: row wrap;\n     border-left: solid 2px #000;\n     transition: 0.5s;\n\n     &.row:nth-of-type(odd) .flex-row {\n       background: ",";\n     }\n     ","\n\n     div:nth-of-type(1) {\n        cursor: pointer;\n     }\n   }\n\n   .header {\n     background: rgba(0, 128, 0, 0.9);\n     color: white;\n     border-color: #000;\n     border-top: solid 2px #000;\n     font-weight: 600;\n     \n     .flex-row{\n      text-transform: capitalize;\n     }\n   }\n\n   .flex-row {\n     width: calc(100% / 4);\n     text-align: center;\n     padding: 0.9em 0.5em;\n     border-right: solid 2px #000;\n     border-bottom: solid 2px #000;\n   }\n\n   .no-data {\n      width: 100%\n   }\n\n   .table-menu {\n     display: flex;\n     flex-direction: column;\n     justify-content: space-between;\n     align-items: center;\n     padding: 10px 40px;\n     background: #212121;\n     color: #fff;\n\n     .table-search {\n       padding-bottom: 5px;\n     }\n\n     .table-name {\n       padding-bottom: 5px;\n       p {\n         font-weight: 800;\n         text-transform: capitalize;\n       }\n     }\n\n     ","\n   }\n }\n"]);return A=function(){return t},t}var M=Object(l.a)(A(),E.b.lightGray3,v.a.tabletUp(Object(l.a)(T())),v.a.tabletUp(Object(l.a)(U()))),F=function(t){function e(t){var n;return Object(a.a)(this,e),n=Object(r.a)(this,Object(i.a)(e).call(this,t)),Object(u.b)(e.prototype,Object(s.a)(Object(s.a)(n))),n}return Object(c.a)(e,t),Object(o.a)(e,[{key:"openModal",value:function(){var t=document.querySelector(".modal");this.props.toggleCreated(),t&&(t.style.display="flex",t.removeAttribute("aria-hidden"))}},{key:"keyUpHandler",value:function(t){13===t.keyCode&&(t.preventDefault(),this.props.searchData(t.target.value))}},{key:"render",value:function(){var t,e,n=this;return 0===this.props.dataArray.length?t=Object(l.b)("div",{className:"flex-table row",role:"rowgroup"},Object(l.b)("div",{className:"flex-row no-data",role:"cell"},"No data found")):this.props.dataArray.length>20&&(e=Object(l.b)(w,null)),Object(l.b)("div",{className:"table-container",role:"table","aria-label":"Destinations",css:M},Object(l.b)("div",{className:"table-menu"},Object(l.b)("div",{className:"table-search"},Object(l.b)(j,{classname:"table-search-input",placeholder:"Search",keyUpHandler:function(){return n.keyUpHandler}})),Object(l.b)("div",{className:"table-name"},Object(l.b)("p",null,this.props.screen," List")),Object(l.b)("div",{className:"table-create",onClick:function(){return n.openModal()}},Object(l.b)(f,{className:"create-btn",color:"green",text:"Create"}))),Object(l.b)("div",{className:"flex-table header",role:"rowgroup"},this.props.tableHeaders.map(function(t,e){return Object(l.b)("div",{key:e,className:"flex-row",role:"columnheader"},t)})),this.props.dataArray.map(function(t,e){return Object(l.b)("div",{key:e,className:"flex-table row",role:"rowgroup"},t.map(function(e,a){return 0!==a&&Object(l.b)("div",{key:a,className:"flex-row",role:"cell",onClick:function(){1===a&&(n.props.updateData(t[0]),n.openModal())}},e)}))}),t,e,Object(l.b)(S,{screen:this.props.screen,formData:this.props.formData,submitForm:this.props.submitForm,created:this.props.created,dataToUpdate:this.props.dataToUpdate,closeModal:this.props.closeModal}))}}]),e}(p.Component);e.a=F},29:function(t,e,n){"use strict";function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],a=!0,o=!1,r=void 0;try{for(var i,c=t[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);a=!0);}catch(s){o=!0,r=s}finally{try{a||null==c.return||c.return()}finally{if(o)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(e,"a",function(){return a})},32:function(t,e,n){"use strict";n.r(e);var a=n(29),o=n(4),r=n(5),i=n(8),c=n(6),s=n(7),l=n(10),p=n(1),u=n.n(p),d=n(28),b=n(9),h=n(27),f=n(26),m=function(t){function e(t){var n;return Object(o.a)(this,e),(n=Object(i.a)(this,Object(c.a)(e).call(this,t))).initialData={route_id:"",location:"",latitude:"",longitude:"",status:""},n.state=n.initialData,Object(b.b)(e.prototype,Object(l.a)(Object(l.a)(n))),n}return Object(s.a)(e,t),Object(r.a)(e,[{key:"componentDidUpdate",value:function(t){t.created!==this.props.created&&!0===this.props.created?this.setState(this.initialData):t.data!==this.props.data&&(Object(b.e)(this.props.data)?this.setState(this.initialData):this.setState({route_id:this.props.data.route_id,location:this.props.data.location,latitude:this.props.data.latitude,longitude:this.props.data.longitude,status:this.props.data.status}))}},{key:"handleInputChange",value:function(t){var e=t.target,n=e.name,a=e.value;this.setState(Object(f.a)({},n,a))}},{key:"render",value:function(){return u.a.createElement("form",{id:"".concat(this.props.screen,"_form")},u.a.createElement("div",{className:"form"},u.a.createElement("div",{className:"form-group"},u.a.createElement("label",null,"Route"),u.a.createElement("select",{name:"route_id",className:"select-control",value:this.state.route_id,onChange:this.handleInputChange},!Object(b.e)(this.props.routes)&&this.props.routes.map(function(t){return u.a.createElement("option",{key:t.id,value:t.id},"".concat(t.from," - ").concat(t.to))})),u.a.createElement("label",{className:"right-inline"},"Location"),u.a.createElement("input",{name:"location",className:"input-control",value:this.state.location,onChange:this.handleInputChange})),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",null,"Latitude"),u.a.createElement("input",{name:"latitude",className:"input-control",value:this.state.latitude,onChange:this.handleInputChange}),u.a.createElement("label",{className:"right-inline"},"Longitude"),u.a.createElement("input",{name:"longitude",className:"input-control",value:this.state.longitude,onChange:this.handleInputChange})),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",null,"Status"),u.a.createElement("select",{name:"status",className:"select-control",value:this.state.status,onChange:this.handleInputChange},u.a.createElement("option",{value:"active"},"Active"),u.a.createElement("option",{value:"inactive"},"Inactive")))))}}]),e}(p.Component),g=function(t){function e(){var t;return Object(o.a)(this,e),(t=Object(i.a)(this,Object(c.a)(e).call(this))).api="get-pickups",t.method="GET",t.state={dataArray:[],created:!1,dataToUpdate:{},routes:{}},Object(b.b)(e.prototype,Object(l.a)(Object(l.a)(t))),t}return Object(s.a)(e,t),Object(r.a)(e,[{key:"toggleCreated",value:function(){this.setState({created:!1})}},{key:"submitForm",value:function(){var t=this,e=document.querySelector("form"),n=new FormData(e),o={},r=!0,i=!1,c=void 0;try{for(var s,l=n.entries()[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var p=s.value,u=Object(a.a)(p,2),d=u[0],f=u[1];o[d]=f}}catch(m){i=!0,c=m}finally{try{r||null==l.return||l.return()}finally{if(i)throw c}}Object(b.e)(this.state.dataToUpdate)?Object(h.b)("create-pickup","POST",o).then(function(e){e?t.setState({created:!0}):alert("Something went wrong please try again")}):Object(h.c)("update-pickup",o,this.state.dataToUpdate.id).then(function(e){e?t.setState({created:!0}):alert("Something went wrong please try again")})}},{key:"formatData",value:function(t){var e=[];t&&t.map(function(t){return e.push([t.id,t.route_id,t.location,t.status,Object(b.g)(t.updated_at)])}),this.setState({dataArray:e})}},{key:"fetchData",value:function(){var t=this;Object(h.a)(this.api,this.method).then(function(e){return t.formatData(e)})}},{key:"updateData",value:function(t){var e=this,n={id:t};Object(h.a)(this.api,this.method,n).then(function(t){return e.setState({dataToUpdate:t[0]})})}},{key:"searchData",value:function(t){var e=this,n={};t&&(n={location:t}),Object(h.a)(this.api,this.method,n).then(function(t){return e.formatData(t)})}},{key:"closeModal",value:function(){var t=document.querySelector(".modal");t.style.display="none",t.setAttribute("aria-hidden","true"),this.setState({dataToUpdate:{}})}},{key:"getRoutes",value:function(){var t=this;Object(h.a)("get-routes",this.method).then(function(e){return t.setState({routes:e})})}},{key:"componentDidMount",value:function(){this.fetchData(),this.getRoutes()}},{key:"componentDidUpdate",value:function(t){t.created!==this.state.created&&!0===this.state.created&&(this.fetchData(),this.toggleCreated())}},{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(d.a,{screen:this.props.screen,tableHeaders:["route","location","status","updated at"],dataArray:this.state.dataArray,formData:u.a.createElement(m,{screen:this.props.screen,created:this.state.created,data:this.state.dataToUpdate,routes:this.state.routes}),submitForm:this.submitForm,created:this.state.created,toggleCreated:this.toggleCreated,updateData:this.updateData,dataToUpdate:this.state.dataToUpdate,closeModal:this.closeModal,searchData:this.searchData}))}}]),e}(p.Component);e.default=g}}]);
//# sourceMappingURL=7.72fef41b.chunk.js.map