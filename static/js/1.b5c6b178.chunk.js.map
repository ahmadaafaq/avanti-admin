{"version":3,"sources":["Services/Api/Api.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","Components/Login/Login.js"],"names":["__webpack_require__","d","__webpack_exports__","fetchData","submitData","updateData","_Services_Utils_Utility__WEBPACK_IMPORTED_MODULE_0__","BASE_URL","api","method","arguments","length","undefined","params","fetch","buildUrl","concat","headers","Accept","Content-Type","then","response","json","responseData","code","data","catch","error","console","log","body","JSON","stringify","id","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","Login","_this","_home_root1_Projects_avanti_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_home_root1_Projects_avanti_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_home_root1_Projects_avanti_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","state","username","password","bindClassMethodsToThis","prototype","_home_root1_Projects_avanti_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","event","target","name","setState","_home_root1_Projects_avanti_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_this2","payload","sessionStorage","setItem","props","switchScreen","alert","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","className","type","placeholder","onChange","handleInputChange","onClick","login","Component"],"mappings":"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","file":"static/js/1.b5c6b178.chunk.js","sourcesContent":["import { buildUrl } from '../../Services/Utils/Utility'\n\n/**\n * Fetch data\n *\n * @param {string} api\n * @param {string} method\n * @returns {Object}\n */\n\nconst BASE_URL = 'https://mysterious-inlet-29046.herokuapp.com/api/';\n\n// const BASE_URL = 'http://localhost:8000/api/';\n\nexport function fetchData(api, method = 'GET', params = {}) {\n    return fetch(\n        buildUrl(`${BASE_URL}${api}`, params),\n        {\n            method: `${method}`,\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\"\n            },\n        }).then(response => response.json())\n        .then(responseData => {\n            if (responseData.code === 200) {\n                return responseData.data\n            }\n        })\n        .catch(error => console.log(error));\n}\n\n/**\n * Submit data\n *\n * @param {string} api\n * @param {string} method\n * @param {object} data\n * @returns {Object}\n */\nexport function submitData(api, method = 'POST', data) {\n    return fetch(`${BASE_URL}${api}`, {\n        method: `${method}`,\n        body: JSON.stringify(data),\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n    }).then(response => response.json())\n        .then(responseData => {\n            if (responseData.code === 200) {\n                return true;\n            } else {\n                return false;\n            }\n        })\n        .catch(error => console.log(error));\n}\n\n/**\n * Update data\n *\n * @param {string} api\n * @param {object} data\n * @param {number} id\n * @returns {Object}\n */\nexport function updateData(api, data, id) {\n    return fetch(`${BASE_URL}${api}/${id}`, {\n        method: 'PUT',\n        body: JSON.stringify(data),\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n    }).then(response => response.json())\n        .then(responseData => {\n            if (responseData.code === 200) {\n                return true;\n            } else {\n                return false;\n            }\n        })\n        .catch(error => console.log(error));\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React, { Component } from 'react'\nimport { bindClassMethodsToThis } from '../../Services/Utils/Utility'\nimport { submitData } from '../../Services/Api/Api'\n\nclass Login extends Component {\n    constructor() {\n        super();\n        this.state = {\n            username: '',\n            password: ''\n        }\n        bindClassMethodsToThis(Login.prototype, this);\n    }\n\n    handleInputChange(event) {\n        const target = event.target;\n        const name = target.name;\n        const value = target.value;\n        this.setState({\n            [name]: value\n        });\n    }\n\n\n    login() {\n        if (this.state.username && this.state.password) {\n            const payload = {\n                username: this.state.username,\n                password: this.state.password\n            }\n            submitData('login-user', 'POST', payload)\n                .then(response => {\n                    if (response) {\n                        console.log('LOGGED IN');\n                        sessionStorage.setItem('loggedIn', true);\n                        sessionStorage.setItem('username', this.state.username);\n                        this.props.switchScreen('dashboard');\n                    } else {\n                        alert('Username and password do no match.');\n                    }\n                });\n        } else {\n            alert('Username and password are required.')\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"login-container\">\n                    <div>\n                        <h2>AVANTI</h2>\n                    </div>\n                    <form>\n                        <input\n                            name=\"username\"\n                            type=\"text\"\n                            placeholder=\"username\"\n                            value={this.state.username}\n                            onChange={this.handleInputChange}\n                        />\n                        <input\n                            name=\"password\"\n                            type=\"password\"\n                            placeholder=\"password\"\n                            value={this.state.password}\n                            onChange={this.handleInputChange}\n                        />\n                        <input\n                            className=\"login-button\"\n                            type=\"button\"\n                            value=\"Login\"\n                            onClick={this.login}\n                        />\n                    </form>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Login;\n"],"sourceRoot":""}